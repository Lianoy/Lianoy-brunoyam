{% extends "index.html" %}
{% load static %}

{% block stylecss %}

{% endblock %}

{% block content %}
    {% for i in res %}
        <table style="margin: 20px 20px; border: 5px red; border-style: outset;">
            <tr>
                <td width="300px" style="padding: 20px 20px; border: 5px red; border-style: outset;">
                    {% if i.cover %}
                        <img src="{% static i.cover|cut:'gdb/static/' %}" style="max-height:400px;" class="img-fluid rounded-start" alt="...">
                    {% else %}
                        ВЫВЕСТИ ДЕФАЛЬТНУЮ КАРТИНКУ "БЕЗ ОБЛОЖКИ"
                    {% endif %}
                </td>
                <td colspan="2" style="text-align: left; border: 5px red; border-style: outset; padding: 20px 20px;">
                    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" style="max-width:50%; max-height:400px; float:right;">
                        <div class="carousel-inner">
                            {% for j in screenshots %} 
                                {% if forloop.first %} 
                                    <div class="carousel-item active" style="width: inherit;">
                                {% else %}
                                    <div class="carousel-item">
                                {% endif %}
                                        <img style="width: inherit;" src="{% static j.image|cut:'gdb/static/' %}" class="d-block w-100" alt="...">
                                    </div>
                            {% endfor %}    
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Предыдущий</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Следующий</span>
                        </button>
                      </div>
                    <!-- <iframe align="right" width="560" height="315" src="https://www.youtube.com/embed/GULWh0kvpvs?si=Flum1OaPvZoXTrrU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe> -->
                    <h1>{{i.name}}</h1>
                    <h5>{% for j in alt_names %} 
                        {% if forloop.first %} 
                            {{j}} 
                        {% else %} 
                            , {{j}}
                        {% endif %}
                        {% endfor %}
                    </h5>
                    <p>Разработчик: {{i.developer}}</p>
                    <p>Издатель: {{i.publisher}}</p>
                    <p>Год выхода: {{i.releaseyear}}</p>
                    <p>Жанры: {% for j in genres %} 
                        {% if forloop.first %} 
                            {{j}} 
                        {% else %} 
                            , {{j}}
                        {% endif %}
                        {% endfor %}</p>
                    <p>Платформы: {% for j in platforms %} 
                        {% if forloop.first %} 
                            {{j}}
                        {% else %} 
                            , {{j}}
                        {% endif %}
                        {% endfor %}</p>
                    
                    {% for j in series %} 
                        {% if forloop.first %} 
                            <br>
                            <p>Игровые серии: {{j}} 
                        {% elif forloop.last %} 
                            , {{j}}</p>
                        {% else %}
                            , {{j}}
                        {% endif %}
                    {% endfor %}

                </td>
            </tr>
            <tr>
                <td colspan="2" style=" border: 5px red; border-style: outset; padding: 10px;">

                    {{i.description}}

                </td>
                <td style="min-width:150px; padding: 10px;">
                    <b>Статьи:</b><br>
                    <a href="какая-то ссылка">Длинное-длинное название статьи</a><br>
                    <a href="какая-то ссылка">Длинное-длинное название статьи</a><br>
                    <a href="какая-то ссылка">Длинное-длинное название статьи</a><br>
                </td>
            </tr>
        </table>

    {% endfor %}
{% endblock %}

{% block footer %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
{% endblock %}